% ----------------------------------------------------------------------------
% COPYRIGHT
%  Copyright (c) The University of Manchester, 2021.
%  SpiNNaker Project
%  Advanced Processor Technologies Group
%  School of Computer Science
% ----------------------------------------------------------------------------
% AUTHOR
%  lap - luis.plana@manchester.ac.uk
% ----------------------------------------------------------------------------
% DETAILS
%  Created on       : 21 Jun 2021
%  Last modified on : Sat  3 Jul 16:39:12 BST 2021
%  Last modified by : lap
% ----------------------------------------------------------------------------


% --------------------------------------------------------------------------
% define useful variables
% --------------------------------------------------------------------------
\def\myversion{Version 1.0.0}
\def\mydate{03 July 2021}

\def\bcw{3mm}
\def\ncw{45mm}
\def\ocw{10mm}
\def\rcw{10mm}
\def\fcw{45mm}
\def\tblc{green!15}
% --------------------------------------------------------------------------


\documentclass[11pt,a4paper,twoside]{article}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage[table]{xcolor}
% --------------------------------------------------------------------------

% --------------------------------------------------------------------------
% adjust paper size and margins
% --------------------------------------------------------------------------
\textheight 246mm
\textwidth 154mm
\voffset -7.5mm
\topmargin -8mm
\oddsidemargin 2.7mm
\evensidemargin 2.7mm
\headheight 18.0pt
\headsep 15mm
\raggedbottom
% --------------------------------------------------------------------------

% --------------------------------------------------------------------------
% command to simplify image handling
% --------------------------------------------------------------------------
\newcommand{\image}[5][]
{
\begin{figure}[#2]
   \begin{center}
      \includegraphics[#1]{#3}
      \caption{#5}
      \label{fig:#4}
   \end{center}
\end{figure}
}
% --------------------------------------------------------------------------

\begin{document}

\rule{\linewidth}{2pt}

\begin{center}
	\textbf{
		\Large{SpiNNaker High-Speed Serial Peripheral Interface} \\
		\vspace*{0.5cm}
		\large {\myversion} \\
		\large{\mydate}
	}
\end{center}

\rule{\linewidth}{2pt}

\vspace*{1.0cm}


\image[width = \textwidth]{!h}{spin_per_if}{fig:spin_if}
	{SpiNNaker peripheral interface.}


\image[width = \textwidth]{!h}{spif_bd}{fig:spif_bd}
{spif microarchitecture.}


\image[width = 0.9 \textwidth]{!h}{spif_cf}{fig:spif_cf}
{SpiNNaker peripheral interface configuration registers.}


\section{spif Configuration}


\subsection{Register Summary}


\begin{table}[!ht]
	\caption{spif configuration Registers}
	\begin{center}
		\rowcolors {1}{}{ \tblc }
		\renewcommand{\arraystretch}{1.2}
		\begin{tabularx}{\textwidth}{| p{\ncw} p{\ocw} p{\rcw} X |}
			\hline
			\textbf{name}        & \textbf{offset} & \textbf{r/w} & \textbf{function} \\%
			\hline
			\hline
			\textbf{r0: control} & 0x0             & w            & start/stop input  \\%
			\textbf{r1: control} & 0x1             & w            & start/stop input  \\%
			\hline
		\end{tabularx}
	\end{center}
	\label{tab:spif_regs}
\end{table}


\subsection{Register Details}


\subsubsection*{\textbf{r0: control}}

{\footnotesize
%\begin{tabularx}{\textwidth}{p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}p{0.000008\textwidth}}
%	31 & 30 & 29 & 28 & 27 & 26 & 25 & 24 & 23 & 22 & 21 & 20 & 19 & 18 & 17 & 16 & 15 & 15 & 13 & 12 & 11 & 19 &  9 &  8 &  7 &  6 &  5 &  4 &  3 &  2 &  1 & 0\ 
%\end{tabularx}
~31~~30~~29~~28~~27~~26~~25~~24~~23~~22~~21~~20~~19~~18~~17~~16~~15~~15~~13~~12~~11~~19~~~~9~~~~8~~~~7~~~~6~~~~5~~~~4~~~~3~~~~2~~~~1~~~~0
}

\noindent
\begin{tabularx}{\linewidth}{| p{0.028\textwidth} | p{0.028\textwidth} | p{0.855\textwidth} |}
	\hline
	0             & 0            & 0  \\%
	\hline
\end{tabularx}


\begin{center}
	\rowcolors {1}{}{ \tblc }
	\renewcommand{\arraystretch}{1.2}
	\begin{tabularx}{\textwidth}{| p{\ncw} p{\ocw} p{\rcw} X |}
		\hline
		\textbf{name}    & \textbf{bits} & \textbf{r/w} & \textbf{function} \\%
		\hline
		\hline
		\textbf{start}   & 0x0           & w            & start/stop input  \\%
		\textbf{stop}    & 0x1           & w            & start/stop input  \\%
		\hline
	\end{tabularx}
\end{center}


\section{SpiNNaker FPGA Configuration}


\subsection{Register Summary}


\begin{table}[!ht]
	\caption{SpiNNaker FPGA configuration Registers}
	\begin{center}
		\rowcolors {1}{}{ \tblc }
		\renewcommand{\arraystretch}{1.2}
		\begin{tabularx}{\textwidth}{| p{\ncw} p{\ocw} p{\rcw} X |}
			\hline
			\textbf{name}        & \textbf{offset} & \textbf{r/w} & \textbf{function} \\%
			\hline
			\hline
			\textbf{r0: control} & 0x0             & w            & start/stop input  \\%
			\textbf{r1: control} & 0x0             & w            & start/stop input  \\%
			\hline
		\end{tabularx}
	\end{center}
	\label{tab:spinn_regs}
\end{table}


\subsection{Register Details}


\vspace*{1.0cm}

\rule{\linewidth}{2pt}

\subsection*{\itshape Change log:}

\begin{itemize}
	\item {\itshape 1.0.0 - 03jul21 - lap} - initial release - comments to
	{\itshape luis.plana@manchester.ac.uk}
\end{itemize}


\end{document}
